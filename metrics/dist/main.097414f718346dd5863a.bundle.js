webpackJsonp([1],{1:function(t,e,n){t.exports=n("cDNt")},"556V":function(t,e,n){e=t.exports=n("rP7Y")(!1),e.push([t.i,"",""]),t.exports=t.exports.toString()},M6gD:function(t,e,n){"use strict";var a=n("/oeL"),i=n("CPp0"),o=n("5v8a"),r=(n.n(o),n("zc4d")),s=(n.n(r),n("Wmvn")),c=n("wzIp");n.d(e,"a",function(){return f});var l=this&&this.__decorate||function(t,e,n,a){var i,o=arguments.length,r=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(o<3?i(r):o>3?i(e,n,r):i(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r},u=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},f=function(){function t(t,e){var n=this;this.http=t,this.configService=e,this.message="",this.metrics=[],this.loading=!1,e.observeHeaders().subscribe(function(t){return n.fetchMetrics(t)})}return t.prototype.fetchMetrics=function(t){var e=this,n=setTimeout(function(){return e.loading=!0},500);if(this.message="",this.metrics=[],!t)return this.message="The tenant is not configured",clearTimeout(n),void(this.loading=!1);var a=new i.c({headers:t});this.http.get(s.a.metricsURL+"/metrics",a).map(function(t){return t.json()}).finally(function(){clearTimeout(n),e.loading=!1}).subscribe(function(t){t&&t.length>0?(e.metrics=t.sort(function(t,e){return t.id<e.id?-1:1}),e.metrics.forEach(function(t){t.url=t.tenantId+"/"+t.type+"/"+encodeURIComponent(t.id)}),e.message=""):e.message="No metric found for this tenant"},function(t){0==t.status&&""==t.statusText?e.message="Could not connect to the server":e.message="An error occured while accessing the server: ["+t.status+"] "+t.statusText})},t}();f=l([n.i(a._12)({selector:"metrics-list",template:n("auVl"),styles:[n("jK5O")]}),u("design:paramtypes",["function"==typeof(p=void 0!==i.d&&i.d)&&p||Object,"function"==typeof(d=void 0!==c.a&&c.a)&&d||Object])],f);var p,d},Q3kN:function(t,e,n){e=t.exports=n("rP7Y")(!1),e.push([t.i,"#line-chart{margin-top:50px}.chart .spinner{position:absolute;top:109px;right:40px}.chart .options{float:left;margin-bottom:20px}.chart{min-height:400px}.checkbox-inline{margin:0}.chart .toolbar-pf{margin-bottom:50px}",""]),t.exports=t.exports.toString()},Wmvn:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var a={production:!1,metricsURL:"http://localhost:8080/hawkular/metrics"}},"aR8+":function(t,e,n){"use strict";var a=n("fc+i"),i=n("/oeL"),o=n("bm2B"),r=n("BkNc"),s=n("CPp0"),c=n("SlfY"),l=n("wzIp"),u=n("wQAS"),f=n("M6gD"),p=n("jX2t"),d=n("uRbP"),h=n("fVTe");n.d(e,"a",function(){return m});var g=this&&this.__decorate||function(t,e,n,a){var i,o=arguments.length,r=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(o<3?i(r):o>3?i(e,n,r):i(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r},m=function(){function t(){}return t}();m=g([n.i(i.b)({declarations:[u.a,f.a,p.a,d.a,h.a],imports:[a.a,o.a,s.a,c.a,r.a.forRoot([{path:"",redirectTo:"/r/status",pathMatch:"full"},{path:"r/status",component:p.a}])],providers:[l.a],bootstrap:[u.a]})],m)},akgP:function(t,e){t.exports='<div id="status">\n  <div class="logo-big">\n    <img src="assets/hawkular_logo.png" alt="Hawkular Logo"/>\n  </div>\n  <h1>Hawkular Metrics</h1>\n  <h3>A time series metrics engine based on Cassandra</h3>\n\n  <p>{{serverInfo.version}}</p>\n  <p>{{serverInfo.gitref}}</p>\n  <p>{{serverInfo.status}}</p>\n</div>'},auVl:function(t,e){t.exports='<div class="spinner spinner-inverse spinner-sm" *ngIf="loading"></div>\n{{message}}\n<ul>\n  <li *ngFor="let metric of metrics">\n    <a [routerLink]="[\'/r/metrics\', {tenant: metric.tenantId, type: metric.type, metric: metric.id}]"\n      (click)="selectedMetric = metric"\n      [ngClass]="{\'active\': selectedMetric && metric.id === selectedMetric.id && metric.type === selectedMetric.type}"\n      role="button"\n      title="{{metric.id}}">\n        {{metric.id}}\n    </a>\n  </li>\n</ul>\n'},cDNt:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("/oeL"),i=n("Qa4U"),o=n("aR8+");n("p5Ee").a.production&&n.i(a.a)(),n.i(i.a)().bootstrapModule(o.a)},efyd:function(t,e){t.exports='<div class="menu">\n  <nav class="navbar navbar-pf-vertical">\n    <div class="navbar-header">\n      <a href="http://www.hawkular.org/" class="navbar-brand">\n        <img class="navbar-brand-icon" src="assets/hawkular_logo_small.png" alt=""/>\n      </a>\n      <a href="http://www.hawkular.org/" class="navbar-brand brand-name">Hawkular Metrics</a>\n      <span class="navbar-brand brand-statement">A time series metrics engine based on Cassandra</span>\n    </div>\n  </nav>\n</div>\n<div class="sidebar nav-pf-vertical nav-pf-vertical-with-sub-menus">\n  <ul class="list-group">\n    <li [routerLinkActive]="[\'active\']" class="list-group-item">\n      <a routerLink="/r/status" activeClassName="active">\n        <span class="fa fa-info-circle" title="Status"></span>\n        <span class="list-group-item-value">Status</span>\n      </a>\n    </li>\n  </ul>\n  <div class="alert alert-info alert-dismissable" *ngIf="showGrafanaAlert">\n    <button type="button" class="close" data-dismiss="alert" aria-hidden="true" (click)="showGrafanaAlert=false">\n      <span class="pficon pficon-close"></span>\n    </button>\n    <span class="pficon pficon-info"></span>\n    <strong>Intended for test and debug!</strong> <span *ngIf="!isOpenShift">For more advanced capabilities we suggest that you take a look at our\n    <a href="http://www.hawkular.org/hawkular-clients/grafana/docs/quickstart-guide/" class="alert-link">Hawkular Grafana datasource</a>\n    or the <a href="https://github.com/pilhuhn/hawkfx" class="alert-link">HawkFX client</a>.</span>\n  </div>\n</div>\n\n<div class="container-fluid container-pf-nav-pf-vertical">\n  <router-outlet></router-outlet>\n</div>\n'},fVTe:function(t,e,n){"use strict";var a=n("/oeL"),i=n("BkNc"),o=n("wzIp"),r=n("Wmvn");n.d(e,"a",function(){return l});var s=this&&this.__decorate||function(t,e,n,a){var i,o=arguments.length,r=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(o<3?i(r):o>3?i(e,n,r):i(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t,e){this.route=t,this.configService=e,this.timeframe="6h",this.refreshRate=30,this.notice="",this.warning="",this.loading=!1,this.useRawData=!1,this.metricsURL=r.a.metricsURL,this.displayMetric=!1,this.displayAvail=!1,this.hawkularConfig=e.get();var n=e.getHeaders();n&&(this.authHeader=n.get("Authorization")),this.timeRange=this.intervalToSeconds(this.timeframe)}return t.prototype.ngOnInit=function(){var t=this;this.route.params.subscribe(function(e){var n=e.tenant;t.type=e.type,t.metric=e.metric,n!=t.hawkularConfig.tenant&&(t.hawkularConfig.tenant=n,setTimeout(function(){return t.configService.set(t.hawkularConfig)},400)),t.refreshComputedVars()})},t.prototype.ngOnChanges=function(t){this.refreshComputedVars()},t.prototype.refreshComputedVars=function(){this.notice="",this.warning="",this.displayMetric=!1,this.displayAvail=!1,this.hawkularConfig.tenant?this.type&&this.metric?"string"===this.type?this.warning="String metrics cannot be displayed at this time":"availability"===this.type?this.displayAvail=!0:this.displayMetric=!0:this.notice="Select a metric from the left menu":this.warning="The tenant is not configured"},t.prototype.intervalToSeconds=function(t){var e=/(\d+)(.+)/g.exec(t),n=+e[1],a=e[2],i=1;return"m"==a?i*=60:"h"==a?i*=3600:"d"==a&&(i*=86400),n*i},t.prototype.onTimeFrameChanged=function(t){this.timeRange=this.intervalToSeconds(this.timeframe)},t.prototype.childTimeRangeChange=function(t){t.hasOwnProperty("start")&&(this.timeframe="custom")},t}();l=s([n.i(a._12)({selector:"chart",template:n("z0Kh"),styles:[n("Q3kN")]}),c("design:paramtypes",["function"==typeof(u=void 0!==i.b&&i.b)&&u||Object,"function"==typeof(f=void 0!==o.a&&o.a)&&f||Object])],l);var u,f},hxJY:function(t,e,n){e=t.exports=n("rP7Y")(!1),e.push([t.i,".navbar .brand-name{font-size:18pt;padding-top:19px}.navbar .brand-statement{padding-top:21px}.navbar .brand-statement:hover{color:#f5f5f5}",""]),t.exports=t.exports.toString()},jK5O:function(t,e,n){e=t.exports=n("rP7Y")(!1),e.push([t.i,".spinner{margin-left:0}",""]),t.exports=t.exports.toString()},jX2t:function(t,e,n){"use strict";var a=n("/oeL"),i=n("CPp0"),o=n("5v8a"),r=(n.n(o),n("zc4d")),s=(n.n(r),n("Wmvn"));n.d(e,"a",function(){return u});var c=this&&this.__decorate||function(t,e,n,a){var i,o=arguments.length,r=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(o<3?i(r):o>3?i(e,n,r):i(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(){function t(t){var e=this;this.serverInfo={status:"Status: checking...",gitref:null,version:null},this.loading=!0,t.get(s.a.metricsURL+"/status").map(function(t){return t.json()}).finally(function(){return e.loading=!1}).subscribe(function(t){e.serverInfo={status:"Metrics Service: "+t.MetricsService,gitref:"(Git SHA1 - "+t["Built-From-Git-SHA1"]+")",version:t["Implementation-Version"]}},function(t){0==t.status&&""==t.statusText?e.serverInfo={status:"Could not connect to the server",gitref:null,version:null}:e.serverInfo={status:"An error occured while accessing the server: ["+t.status+"] "+t.statusText,gitref:null,version:null}})}return t}();u=c([n.i(a._12)({selector:"status-page",template:n("akgP"),styles:[n("jZZS")]}),l("design:paramtypes",["function"==typeof(f=void 0!==i.d&&i.d)&&f||Object])],u);var f},jZZS:function(t,e,n){e=t.exports=n("rP7Y")(!1),e.push([t.i,".logo-big{text-align:center}.logo-big,.logo-big img{margin-left:auto;margin-right:auto}.logo-big img{max-width:100%}#status{text-align:center;margin-top:100px}",""]),t.exports=t.exports.toString()},n7du:function(t,e){function n(t){throw new Error("Cannot find module '"+t+"'.")}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="n7du"},p5Ee:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var a={production:!1,metricsURL:"http://localhost:8080/hawkular/metrics"}},uRbP:function(t,e,n){"use strict";var a=n("/oeL"),i=n("wzIp");n.d(e,"a",function(){return s});var o=this&&this.__decorate||function(t,e,n,a){var i,o=arguments.length,r=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(o<3?i(r):o>3?i(e,n,r):i(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t){var e=this;this.configService=t,this.changed=!1,this.config=t.get(),t.observeConfig().subscribe(function(t){return e.config=t})}return t.prototype.onSubmit=function(t){this.configService.set(this.config),this.changed=!1},t.prototype.onReset=function(t){this.config=this.configService.get(),this.changed=!1},t}();s=o([n.i(a._12)({selector:"config-page",template:n("yq2q"),styles:[n("556V")]}),r("design:paramtypes",["function"==typeof(c=void 0!==i.a&&i.a)&&c||Object])],s);var c},wQAS:function(t,e,n){"use strict";var a=n("/oeL"),i=n("wzIp");n.d(e,"a",function(){return s});var o=this&&this.__decorate||function(t,e,n,a){var i,o=arguments.length,r=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(o<3?i(r):o>3?i(e,n,r):i(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t){var e=this;this.configService=t,this.showGrafanaAlert=!1,this.tenant="",t.observeConfig().subscribe(function(t){return e.tenant=t.tenant})}return t.prototype.refresh=function(t){return this.configService.set(this.configService.get()),t.stopPropagation(),!1},t}();s=o([n.i(a._12)({selector:"app-root",template:n("efyd"),styles:[n("hxJY")]}),r("design:paramtypes",["function"==typeof(c=void 0!==i.a&&i.a)&&c||Object])],s);var c},wzIp:function(t,e,n){"use strict";function a(t){return{tenant:t.tenant,auth:{method:t.auth.method,token:t.auth.token,username:t.auth.username,password:t.auth.password}}}var i=n("/oeL"),o=n("gvep"),r=(n.n(o),n("CPp0"));n.d(e,"a",function(){return c});var s=this&&this.__decorate||function(t,e,n,a){var i,o=arguments.length,r=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(o<3?i(r):o>3?i(e,n,r):i(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r},c=function(){function t(){this.config={tenant:"",auth:{method:"none",token:null,username:null,password:null}},this.configObservable=new o.BehaviorSubject(a(this.config)),this.headersObservable=new o.BehaviorSubject(this.getHeaders())}return t.prototype.set=function(t){this.config=a(t),this.configObservable.next(a(this.config)),this.headersObservable.next(this.getHeaders())},t.prototype.get=function(){return a(this.config)},t.prototype.observeConfig=function(){return this.configObservable},t.prototype.observeHeaders=function(){return this.headersObservable},t.prototype.getHeaders=function(){if(this.config.tenant&&"none"!=this.config.auth.method){var t="basic"==this.config.auth.method?"Basic "+btoa(this.config.auth.username+":"+this.config.auth.password):"Bearer "+this.config.auth.token;return new r.b({"Hawkular-Tenant":this.config.tenant,Authorization:t})}if(this.config.tenant)return new r.b({"Hawkular-Tenant":this.config.tenant})},t}();c=s([n.i(i.c)()],c)},yq2q:function(t,e){t.exports='<div id="config">\n  <form class="form-horizontal plain-form" (ngSubmit)="onSubmit()" #configForm="ngForm">\n    <div class="form-group">\n      <label class="col-sm-3 control-label" for="tenant">Tenant</label>\n      <div class="col-sm-9">\n        <input type="text" id="tenant" [(ngModel)]="config.tenant" (ngModelChange)="changed=true" name="tenant" class="form-control" required>\n      </div>\n    </div>\n    <div class="form-group">\n      <label class="col-sm-3 control-label" for="authentication">Authentication</label>\n      <div class="col-sm-9">\n        <select id="authentication" class="form-control" [(ngModel)]="config.auth.method" (ngModelChange)="changed=true" name="authMethod">\n          <option value=\'none\'>None</option>\n          <option value=\'basic\'>Basic HTTP</option>\n          <option value=\'token\'>Token</option>\n        </select>\n      </div>\n    </div>\n    <div *ngIf="config.auth.method == \'token\'" class="form-group">\n      <label class="col-sm-3 control-label" for="token">Token</label>\n      <div class="col-sm-9">\n        <input id="token" class="form-control" type="text" [(ngModel)]="config.auth.token" (ngModelChange)="changed=true" name="authToken"/>\n      </div>\n    </div>\n    <div *ngIf="config.auth.method == \'basic\'" class="form-group">\n      <label class="col-sm-3 control-label" for="username">Username</label>\n      <div class="col-sm-9">\n        <input id="username" class="form-control" type="text" [(ngModel)]="config.auth.username" (ngModelChange)="changed=true" name="authUsername"/>\n      </div>\n    </div>\n    <div *ngIf="config.auth.method == \'basic\'" class="form-group">\n      <label class="col-sm-3 control-label" for="password">Password</label>\n      <div class="col-sm-9">\n        <input id="password" class="form-control" type="password" [(ngModel)]="config.auth.password" (ngModelChange)="changed=true" name="authPassword"/>\n      </div>\n    </div>\n    <div class="form-group">\n      <div class="col-sm-offset-3 col-sm-10">\n        <button type="submit" class="btn btn-primary">Save<span *ngIf="changed">*</span></button>\n        <button *ngIf="changed" class="btn btn-default" (click)="onReset($event)">Reset</button>\n      </div>\n    </div>\n  </form>\n</div>\n'},z0Kh:function(t,e){t.exports='<div class="chart">\n  <h1>{{metric}}</h1>\n  <div class="spinner" *ngIf="loading"></div>\n  <p *ngIf="hawkularConfig.tenant !== undefined && type !== undefined">\n    Tenant: {{hawkularConfig.tenant}}<br/>\n    Metric type: {{type}}\n  </p>\n  <div class="alert alert-warning" *ngIf="warning">\n    <span class="pficon pficon-warning-triangle-o"></span>\n    {{warning}}\n  </div>\n  <div class="alert alert-info" *ngIf="notice">\n    <span class="pficon pficon-info"></span>\n    {{notice}}\n  </div>\n  <div class="row toolbar-pf">\n    <div class="col-sm-12">\n      <form class="toolbar-pf-actions">\n        <div class="form-group form-inline">\n          <label class="control-label" for="timerange">Time range</label>\n          <select id="timerange" class="form-control" [(ngModel)]="timeframe" (ngModelChange)="onTimeFrameChanged($event)" [ngModelOptions]="{standalone: true}">\n            <option value=\'5m\'>Last 5 minutes</option>\n            <option value=\'15m\'>Last 15 minutes</option>\n            <option value=\'30m\'>Last 30 minutes</option>\n            <option value=\'1h\'>Last hour</option>\n            <option value=\'6h\'>Last 6 hours</option>\n            <option value=\'1d\'>Last 24 hours</option>\n            <option value=\'2d\'>Last 2 days</option>\n            <option value=\'7d\'>Last week</option>\n            <option value=\'30d\'>Last month</option>\n            <option value=\'custom\' disabled=true>Custom</option>\n          </select>\n        </div>\n        <div class="form-group form-inline">\n          <label class="control-label" for="refresh">Refresh rate</label>\n          <select id="refresh" class="form-control" [(ngModel)]="refreshRate" [ngModelOptions]="{standalone: true}">\n            <option value=\'5\'>5 seconds</option>\n            <option value=\'10\'>10 seconds</option>\n            <option value=\'30\'>30 seconds</option>\n            <option value=\'60\'>1 minute</option>\n            <option value=\'0\'>Never</option>\n          </select>\n        </div>\n        <div class="form-group">\n          <input id="raw" type="checkbox" class="checkbox-inline" [(ngModel)]="useRawData" [ngModelOptions]="{standalone: true}">\n          <label class="control-label" for="raw">Raw data</label>\n        </div>\n      </form>\n    </div>\n  </div>\n  <div class="chart-container">\n    <hk-metric-chart *ngIf="displayMetric"\n      [metricUrl]="metricsURL"\n      [authHeader]="authHeader"\n      [metricId]="metric"\n      [metricTenantId]="hawkularConfig.tenant"\n      [metricType]="type"\n      chartType="line"\n      [timeRange]="timeRange"\n      (timeRangeChange)="childTimeRangeChange($event)"\n      show-data-points=true\n      [raw]="useRawData"\n      [refreshIntervalInSeconds]="refreshRate"\n      yAxisTickFormat="s">\n    </hk-metric-chart>\n    <hk-availability-chart *ngIf="displayAvail"\n      [metricUrl]="metricsURL"\n      [authHeader]="authHeader"\n      [metricId]="metric"\n      [metricTenantId]="hawkularConfig.tenant"\n      [timeRange]="timeRange"\n      (timeRangeChange)="childTimeRangeChange($event)"\n      [refreshIntervalInSeconds]="refreshRate">\n    </hk-availability-chart>\n  </div>\n</div>\n'}},[1]);